<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"> 
    <h:head>
        <title>#{showServiceUsesController.pageTitle}</title> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <h:outputStylesheet name="bootstrap/css/bootstrap.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" />
        <h:outputScript name="bootstrap/js/bootstrap.js" />
        <h:outputStylesheet name="css/style.css" />
    </h:head>
    <h:body>
        <h:form id="form">
        <div>
            <div id="divHeader" style="background-color: darkgoldenrod">
                <h1>Government Services</h1>
            </div>
            
            <div id="divNav">
                <ul>
                    <li>
                        <h:link id="searchService" value="Services" outcome="index" class="li"/>
                    </li>
                    <li>
                        <h:link id="addService" value="Add Service"  outcome="addService" class="li"/>
                    </li>
                    <li>
                        <h:link id="member" value="Members" outcome="members" class="li"/>
                    </li>
                    <li>
                        <h:link id="addMember" value="Add Member" outcome= "addMember" class="li"/>
                    </li>
                    <li>
                        <h:link id="myServiceUse" value="My Service Uses" outcome= "showServiceUses" class="active li"/>
                    </li>
                    <li>
                        <h:link id="myProfile" value="My Profile" outcome= "myInfo" class="li"/>
                    </li>
                    <li>
                        <h:link id="logout" value="Logout" outcome="#{loginController.logout()}" class="li"/>
                    </li>
                </ul>
            </div>
            
            <div id="divTable" style="background-color: white; margin-top: 0%;">
                <h:dataTable id="dtServiceUse" value="#{showServiceUsesController.serviceUses}" var="serviceUse" 
            styleClass="table"
            headerClass="serviceTableHeader"
            rowClasses="serviceTableOddRow,serviceTableEvenRow">
                <h:column>
                   <f:facet name="header">Service Use ID</f:facet>
                    #{serviceUse.serviceUseID}
                </h:column>
                <h:column>
                   <f:facet name="header">Service Use Date</f:facet>
                    #{serviceUse.date}
                </h:column>
                <h:column>
                   <f:facet name="header">Service Name</f:facet>
                   #{serviceUse.services}
                </h:column>
                <h:column>
                   <f:facet name="header">Govt Officer</f:facet>
                    #{serviceUse.govMember.memberId}
                </h:column>
                <h:column>
                   <f:facet name="header">Status</f:facet>
                   <h:link value="#{serviceUse.status eq 'C' ? 'Completed' : 'Using'}" 
                                    class="#{serviceUse.status eq 'C' ? 'disabledbtnStyle_S' : 'enablebtnStyle_S'}" 
                                    outcome="#{showServiceUsesController.updateStatus()}" 
                                    disabled="#{serviceUse.status eq 'C' ? 'true' : 'false'}">   		 
                      
                       <f:param name="serviceUseId" value="#{serviceUse.serviceUseID}" />
                   </h:link>
                </h:column>
             </h:dataTable>
            </div>
                    
            
         
        </div>
        </h:form>
    </h:body>
</html>